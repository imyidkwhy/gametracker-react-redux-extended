{"ast":null,"code":"import { createSlice, nanoid } from '@reduxjs/toolkit';\nconst gamesSlice = createSlice({\n  name: 'games',\n  initialState: [],\n  reducers: {\n    addGame: {\n      reducer(state, action) {\n        state.push(action.payload);\n      },\n      prepare(title, price) {\n        return {\n          payload: {\n            id: nanoid(),\n            title,\n            price,\n            isFavorite: false\n          }\n        };\n      }\n    },\n    deleteGame: (state, action) => {\n      return state.filter(game => game.id !== action.payload);\n    },\n    toggleFavorite: (state, action) => {\n      const game = state.find(game => game.id === action.payload);\n      if (game) {\n        game.isFavorite = !game.isFavorite; // ✅ Мутация\n      }\n    },\n    clearAllGames: () => [] // ✅ Корректный возврат нового состояния\n  }\n});","map":{"version":3,"names":["createSlice","nanoid","gamesSlice","name","initialState","reducers","addGame","reducer","state","action","push","payload","prepare","title","price","id","isFavorite","deleteGame","filter","game","toggleFavorite","find","clearAllGames"],"sources":["/Users/maliktarashev/gametracker-react-redux-extended/ui/src/redux/slices/gamesSlice.js"],"sourcesContent":["import { createSlice, nanoid } from '@reduxjs/toolkit';\n\nconst gamesSlice = createSlice({\n  name: 'games',\n  initialState: [],\n  reducers: {\n    addGame: {\n      reducer(state, action) {\n        state.push(action.payload); \n      },\n      prepare(title, price) {\n        return { \n          payload: { \n            id: nanoid(),\n            title,\n            price,\n            isFavorite: false \n          } \n        };\n      }\n    },\n    deleteGame: (state, action) => {\n      return state.filter(game => game.id !== action.payload); \n    },\n    toggleFavorite: (state, action) => {\n      const game = state.find(game => game.id === action.payload);\n      if (game) {\n        game.isFavorite = !game.isFavorite; // ✅ Мутация\n      }\n    },\n    clearAllGames: () => [] // ✅ Корректный возврат нового состояния\n  }\n});"],"mappings":"AAAA,SAASA,WAAW,EAAEC,MAAM,QAAQ,kBAAkB;AAEtD,MAAMC,UAAU,GAAGF,WAAW,CAAC;EAC7BG,IAAI,EAAE,OAAO;EACbC,YAAY,EAAE,EAAE;EAChBC,QAAQ,EAAE;IACRC,OAAO,EAAE;MACPC,OAAOA,CAACC,KAAK,EAAEC,MAAM,EAAE;QACrBD,KAAK,CAACE,IAAI,CAACD,MAAM,CAACE,OAAO,CAAC;MAC5B,CAAC;MACDC,OAAOA,CAACC,KAAK,EAAEC,KAAK,EAAE;QACpB,OAAO;UACLH,OAAO,EAAE;YACPI,EAAE,EAAEd,MAAM,CAAC,CAAC;YACZY,KAAK;YACLC,KAAK;YACLE,UAAU,EAAE;UACd;QACF,CAAC;MACH;IACF,CAAC;IACDC,UAAU,EAAEA,CAACT,KAAK,EAAEC,MAAM,KAAK;MAC7B,OAAOD,KAAK,CAACU,MAAM,CAACC,IAAI,IAAIA,IAAI,CAACJ,EAAE,KAAKN,MAAM,CAACE,OAAO,CAAC;IACzD,CAAC;IACDS,cAAc,EAAEA,CAACZ,KAAK,EAAEC,MAAM,KAAK;MACjC,MAAMU,IAAI,GAAGX,KAAK,CAACa,IAAI,CAACF,IAAI,IAAIA,IAAI,CAACJ,EAAE,KAAKN,MAAM,CAACE,OAAO,CAAC;MAC3D,IAAIQ,IAAI,EAAE;QACRA,IAAI,CAACH,UAAU,GAAG,CAACG,IAAI,CAACH,UAAU,CAAC,CAAC;MACtC;IACF,CAAC;IACDM,aAAa,EAAEA,CAAA,KAAM,EAAE,CAAC;EAC1B;AACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}